{"version":3,"sources":["webpack:///C:/uniapp/lakehead-fronend/main.js","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?5cce","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?e4ad","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?408f","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?db1d","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?93f0","webpack:///C:/uniapp/lakehead-fronend/pages/login/login.vue?47f8"],"names":["createPage","Page","components","uniStatusBar","otherLogin","data","status","username","password","logining","phone","code","codeTime","loading","onLoad","computed","disabled","methods","inputChange","e","key","currentTarget","dataset","detail","value","nameRegist","console","log","uni","request","url","method","timeout","dataType","success","res","message","$api","msg","fail","namelogin","user_name","pass_word","Promise","resolve","reject","header","grant_type","client_id","client_secret","infoRes","access_token","setStorageSync","error","back","navigateBack","delta","initForm","changeStatus","getCode","validate","$H","post","native","then","showToast","title","icon","timer","setInterval","clearInterval","mPattern","test","submit","$store","commit","dispatch","catch","err","getinfo","token","jwt","undefined","getStorageSync","Authorization","nameLogin","login","toMain","userName","forcedLogin","reLaunch","initPosition","positionTop","getSystemInfoSync","windowHeight","getWeixinAccess","provider","getOpenId","info_res","openid","getWxInfo","getUserInfo","userInfo","nickName","avatarUrl","wxRegisterRequest","id","name","openId","oauth"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=077d7d9b&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/lakehead-fronend/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=077d7d9b&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniStatusBar from '@/components/uni-ui/uni-status-bar/uni-status-bar.vue';\nimport otherLogin from '@/components/common/other-login.vue';\nimport {\n\tmapMutations\n} from 'vuex';\n\nexport default {\n\tcomponents: {\n\t\tuniStatusBar,\n\t\totherLogin\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstatus: false,\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\",\n\t\t\tlogining: false,\n\t\t\tphone: \"\",\n\t\t\tcode: \"\",\n\t\t\tcodeTime: 0,\n\t\t\tloading: false\n\t\t}\n\t},\n\tonLoad() {\n\n\t},\n\tcomputed: {\n\t\tdisabled() {\n\t\t\tif ((this.username === '' || this.password === '') && (this.phone === '' || this.code === '')) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations(['login', 'token']),\n\t\tinputChange(e) {\n\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\tthis[key] = e.detail.value;\n\t\t},\n\t\tnameRegist() {\n\t\t\t/* 数据合法性校验 */\n\t\t\tconsole.log(\"注册\")\n\t\t\tconst {\n\t\t\t\tusername,\n\t\t\t\tpassword\n\t\t\t} = this;\n\t\t\tconsole.log(this.username)\n\t\t\tconsole.log(this.password)\n\t\t\tuni.request({\n\t\t\t\turl: \"http://3.96.104.51:53020/uaa/register/name\",\n\t\t\t\tdata: {\n\t\t\t\t\tusername,\n\t\t\t\t\tpassword\n\t\t\t\t},\n\t\t\t\tmethod: \"POST\",\n\t\t\t\ttimeout: 100000,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(res.data.message);\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tthis.$api.msg(res.data.message)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$api.msg(res.data.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tnamelogin: (user_name, pass_word) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"http://3.96.104.51:53020/uaa/login\",\n\t\t\t\t\theader: {\n\t\t\t\t\t\t\"Content-type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusername: user_name,\n\t\t\t\t\t\tpassword: pass_word,\n\t\t\t\t\t\tgrant_type: \"password\",\n\t\t\t\t\t\tclient_id: \"CAMPUS\",\n\t\t\t\t\t\tclient_secret: \"SECRET\",\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\ttimeout: 100000,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: (infoRes) => {\n\t\t\t\t\t\tconsole.log(\"login res: \" + infoRes.data)\n\t\t\t\t\t\tif (infoRes.data.access_token != null) {\n\t\t\t\t\t\t\tuni.setStorageSync(\"jwt\", infoRes.data.access_token);\n\t\t\t\t\t\t\tconsole.log(\"===login success===\")\n\t\t\t\t\t\t\tresolve(infoRes.data.access_token);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(infoRes.data.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\treject(infoRes.data.error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tback() {\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t},\n\t\t// 初始化表单\n\t\tinitForm() {\n\t\t\tthis.username = ''\n\t\t\tthis.password = ''\n\t\t\tthis.phone = ''\n\t\t\tthis.code = ''\n\t\t},\n\t\t// 切换登录方式\n\t\tchangeStatus() {\n\t\t\t// 初始化表单\n\t\t\tthis.initForm()\n\t\t\tthis.status = !this.status\n\t\t},\n\t\t// 获取验证码\n\t\tgetCode() {\n\t\t\t// 防止重复获取\n\t\t\tif (this.codeTime > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 验证手机号\n\t\t\tif (!this.validate()) return;\n\t\t\t// 请求数据\n\t\t\tthis.$H.post('/user/sendcode', {\n\t\t\t\tphone: this.phone\n\t\t\t}, {\n\t\t\t\tnative: true\n\t\t\t}).then(res => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\t// 倒计时\n\t\t\t\tthis.codeTime = 60\n\t\t\t\tlet timer = setInterval(() => {\n\t\t\t\t\tif (this.codeTime >= 1) {\n\t\t\t\t\t\tthis.codeTime--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.codeTime = 0\n\t\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\t}\n\t\t\t\t}, 1000)\n\t\t\t})\n\t\t},\n\t\t// 表单验证\n\t\tvalidate() {\n\t\t\t//手机号正则\n\t\t\tvar mPattern = /^1[34578]\\d{9}$/;\n\t\t\tif (!mPattern.test(this.phone)) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '手机号格式不正确',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t// ...更多验证\n\t\t\treturn true\n\t\t},\n\t\t// 提交\n\t\tsubmit() {\n\t\t\t// 表单验证\n\t\t\tlet url = \"\"\n\t\t\tlet data = \"\"\n\t\t\tif (this.status) {\n\t\t\t\t// 手机验证码登录\n\t\t\t\tif (!this.validate()) return;\n\t\t\t\turl = '/user/phonelogin'\n\t\t\t\tdata = {\n\t\t\t\t\tphone: this.phone,\n\t\t\t\t\tcode: this.code\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// 账号密码登录\n\t\t\t\turl = '/user/login'\n\t\t\t\tdata = {\n\t\t\t\t\tusername: this.username,\n\t\t\t\t\tpassword: this.password\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 提交后端\n\t\t\tthis.loading = true\n\t\t\tthis.$H.post(url, data).then(res => {\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.log(res);\n\t\t\t\t// 修改vuex的state,持久化存储\n\t\t\t\tthis.$store.commit('login', res)\n\t\t\t\t// 开启socket\n\t\t\t\tthis.$store.dispatch('openSocket')\n\t\t\t\t// 提示和跳转\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t});\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}).catch(err => {\n\t\t\t\t// 登录失败\n\t\t\t\tthis.loading = false\n\t\t\t})\n\n\t\t},\n\t\tgetinfo: (token) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet jwt = (token == undefined ? uni.getStorageSync(\"jwt\") : token);\n\t\t\t\tconsole.log(\"jwt: \" + jwt);\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"http://3.96.104.51:53020/uaa/info\",\n\t\t\t\t\theader: {\n\t\t\t\t\t\tAuthorization: \"Bearer \" + jwt\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\ttimeout: 100000,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", res.data.data)\n\t\t\t\t\t\t\tresolve(res.data.data)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"失败\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\treject(res.data.message)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tnameLogin() {\n\t\t\t/* 数据验证模块*/\n\t\t\tconsole.log(\"登陆\")\n\t\t\tthis.logining = true;\n\t\t\tthis.namelogin(this.username, this.password)\n\t\t\t\t.then((token) => {\n\t\t\t\t\tthis.token(token);\n\t\t\t\t\tthis.getinfo(token)\n\t\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.login(res);\n\t\t\t\t\tuni.navigateBack();\n\t\t\t\t})\n\t\t},\n\n\t\ttoMain(userName) {\n\t\t\tthis.login(userName);\n\t\t\t/**\n\t\t\t * 强制登录时使用reLaunch方式跳转过来\n\t\t\t * 返回首页也使用reLaunch方式\n\t\t\t */\n\t\t\tif (this.forcedLogin) {\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '../main/main',\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.navigateBack();\n\t\t\t}\n\n\t\t},\n\t\tinitPosition() {\n\t\t\t/**\n\t\t\t * 使用 absolute 定位，并且设置 bottom 值进行定位。软键盘弹出时，底部会因为窗口变化而被顶上来。\n\t\t\t * 反向使用 top 进行定位，可以避免此问题。\n\t\t\t */\n\t\t\tthis.positionTop = uni.getSystemInfoSync().windowHeight - 100;\n\t\t},\n\t\tgetWeixinAccess: (value) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: value,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tresolve(res.code);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tgetOpenId: (code) => {\n\t\t\tconsole.log(\"code: \" + code)\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"https://api.weixin.qq.com/sns/jscode2session?appid=\" + uni.getStorageSync(\"appid\") + \"&secret=\" + uni.getStorageSync(\n\t\t\t\t\t\t\"secret\") + \"&js_code=\" + code + \"&grant_type=authorization_code\",\n\t\t\t\t\tsuccess: (info_res) => {\n\t\t\t\t\t\tconsole.log(\"openId: \" + info_res.data.openid)\n\t\t\t\t\t\tuni.setStorageSync(\"openId\", info_res.data.openid);\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"获取openId失败\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tgetWxInfo: () => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.getUserInfo({\n\t\t\t\t\tprovider: \"weixin\",\n\t\t\t\t\tsuccess: (infoRes) => {\n\t\t\t\t\t\tuni.setStorageSync(\"nickName\", infoRes.userInfo.nickName);\n\t\t\t\t\t\tuni.setStorageSync(\"avatarUrl\", infoRes.userInfo.avatarUrl);\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"微信第三方登陆失败\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\twxRegisterRequest: () => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet id = uni.getStorageSync(\"openId\");\n\t\t\t\tlet name = uni.getStorageSync(\"nickName\");\n\t\t\t\tlet url = uni.getStorageSync(\"avatarUrl\");\n\t\t\t\t/* console.log(id + \" \" + name + \" \" + url) */\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"http://192.168.2.26:53020/uaa/register/wx\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\topenId: id,\n\t\t\t\t\t\tnickName: name,\n\t\t\t\t\t\tavatarUrl: url\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\ttimeout: 100000,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.data.code == 0 || res.data.code == 2) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"微信授权成功\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"微信授权失败\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\toauth: function(value) {\n\t\t\t/* uni.showLoading({\n\t\t\t\ttitle: \"授权登录中...\"\n\t\t\t}) */\n\t\t\tthis.getWeixinAccess(value)\n\t\t\t\t.then((code) => {\n\t\t\t\t\tthis.getOpenId(code)\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getWxInfo()\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.wxRegisterRequest()\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet id = uni.getStorageSync(\"openId\");\n\t\t\t\t\tthis.namelogin(id, id)\n\t\t\t\t})\n\t\t\t\t.then((token) => {\n\t\t\t\t\tthis.getinfo(token)\n\t\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.login(res);\n\t\t\t\t\tuni.navigateBack();\n\t\t\t\t})\n\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595804388125\n      var cssReload = require(\"C:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}