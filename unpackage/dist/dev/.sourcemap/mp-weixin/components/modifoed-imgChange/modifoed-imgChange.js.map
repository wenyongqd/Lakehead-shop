{"version":3,"sources":["webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?5f5f","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?0fef","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?95d1","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?a34a","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?f05b","webpack:///C:/uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue?e787"],"names":["name","props","imgArr","type","Array","uploadImgCount","String","default","imgCount","imgSize","Number","imgType","closeTip","Boolean","closeLoading","data","itemId","imgArray","canUpCount","startUpload","created","watch","n","o","methods","upPhoto","length","uni","showActionSheet","itemList","success","res","tapIndex","chooseImage","count","sizeType","sourceType","tempFiles","item","size","showToast","title","icon","r","some","v","split","upload","getStorageSync","tempFilePaths","fail","console","log","errMsg","preview","url","index","previewImage","urls","delImg","i","showModal","content","confirm","auth","myoptions","header","imgUrl","$H","del","then","err","result","code","splice","cancel","sleep","start","Date","getTime","item_id","filepaths","uploadImg","showLoading","_this","uploadFile","Authorization","filePath","formData","uploadFileRes","JSON","parse","message","push","hideLoading","e"],"mappings":"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","file":"components/modifoed-imgChange/modifoed-imgChange.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./modifoed-imgChange.vue?vue&type=template&id=4fff4a7a&scoped=true&\"\nvar renderjs\nimport script from \"./modifoed-imgChange.vue?vue&type=script&lang=js&\"\nexport * from \"./modifoed-imgChange.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modifoed-imgChange.vue?vue&type=style&index=0&id=4fff4a7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fff4a7a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/lakehead-fronend/components/modifoed-imgChange/modifoed-imgChange.vue\"\nexport default component.exports","export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifoed-imgChange.vue?vue&type=template&id=4fff4a7a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifoed-imgChange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifoed-imgChange.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'imgUpload',\n\tprops: {\n\t\timgArr: { //图片数组\n\t\t\ttype: [Array],\n\t\t},\n\t\tuploadImgCount: { //一次上传图片数\n\t\t\ttype: String,\n\t\t\tdefault: '3'\n\t\t},\n\t\timgCount: { //可上传图片总数\n\t\t\ttype: String,\n\t\t\tdefault: '3'\n\t\t},\n\t\timgSize: { //图片大小 单位M\n\t\t\ttype: Number,\n\t\t\tdefault: 4\n\t\t},\n\t\timgType: {  //如果是小程序，这个值则没用作用\n\t\t\ttype: [Array],\n\t\t\tdefault: function() {\n\t\t\t\treturn ['jpeg', 'png', 'jpg']\n\t\t\t}\n\t\t},\n\t\tcloseTip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcloseLoading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titemId: [],\n\t\t\timgArray: [],\n\t\t\tcanUpCount:'',\n\t\t\tstartUpload:false,\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.imgArray = this.imgArr;\n\t\t\n\t\tthis.canUpCount = Number(this.uploadImgCount);\n\t},\n\twatch: {\n\t\timgArr(n,o){\n\t\t\tthis.imgArray = n;\n\t\t},\n\t},\n\tmethods: {\n\t\t/* 一次上传一张图片 */\n\t\tupPhoto() {\n\t\t\tif (Number(this.imgCount - this.imgArray.length) < Number(this.uploadImgCount)) {\n\t\t\t\tthis.canUpCount = Number(this.imgCount - this.imgArray.length);\n\t\t\t}\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['Take Phone', 'Choose From Album'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.tapIndex == 0) {\n\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\tcount:1,\n\t\t\t\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\t\t\t\tsourceType: ['camera'], \n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tif (res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.size > (this.imgSize * 1024 * 1024)) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `Image Size is Limited under ${this.imgSize}M`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif(item.type){\n\t\t\t\t\t\t\t\t\t\t\t\tlet r = this.imgType.some(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.type.split('/');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (type.length)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (v === type[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tif (!r) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `Only accept ${this.imgType} Types`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.upload(uni.getStorageSync(\"itemId\"), res.tempFilePaths);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.tapIndex == 1) {\n\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\t\t\t\tsourceType: ['album'], \n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tif (res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\tfor (let item of res.tempFiles) {\n\t\t\t\t\t\t\t\t\t\t\tif (item.size > (this.imgSize * 1024 * 1024)) {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `图片不能大于${this.imgSize}M`,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif(item.type){\n\t\t\t\t\t\t\t\t\t\t\t\tlet r = this.imgType.some(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.type.split('/');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (type.length)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (v === type[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tif (!r) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `只允许上传${this.imgType}的类型`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.upload(uni.getStorageSync(\"itemId\"), res.tempFilePaths);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(res) {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tpreview(url, index) {\n\t\t\t// 预览图片\n\t\t\tuni.previewImage({\n\t\t\t\turls: [url]\n\t\t\t});\n\t\t},\n\t\tdelImg(i) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'Attention',\n\t\t\t\tcontent: 'Delete this Image？',\n\t\t\t\tsuccess: (res)=> {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tlet auth = \"Bearer \" + uni.getStorageSync(\"jwt\")\n\t\t\t\t\t\tlet myoptions = {\n\t\t\t\t\t\t\theader:{\n\t\t\t\t\t\t\t\t\"content-type\":\"application/x-www-form-urlencoded\",\n\t\t\t\t\t\t\t\t\"Authorization\": auth\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\titemId:uni.getStorageSync(\"itemId\"),\n\t\t\t\t\t\t\timgUrl:this.imgArray[i]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.$H.del('/item/image', data, myoptions).then(res => {\n\t\t\t\t\t\t\tlet [err, result] = res\n\t\t\t\t\t\t\tif(result.data.code == 200){\n\t\t\t\t\t\t\t\tthis.imgArray.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.cancel) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsleep(n) {\n\t\t\tvar start = new Date().getTime();\n\t\t\t//  console.log('休眠前：' + start);\n\t\t\twhile (true) {\n\t\t\t\tif (new Date().getTime() - start > n) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupload(item_id, filepaths) {\n\t\t\tthis.startUpload=true;\n\t\t\tthis.sleep(100);\n\t\t\tthis.uploadImg(filepaths[0], item_id);\n\t\t},\n\t\tuploadImg(item, item_id) {\n\t\t\tuni.showLoading({\n\t\t\t    title: 'Uploading...'\n\t\t\t});\n\t\t\tconst _this = this;\n\t\t\tuni.uploadFile({\n\t\t\t\theader: {Authorization: \"Bearer \" + uni.getStorageSync(\"jwt\")},\n\t\t\t\turl:'http://3.96.104.51:53020/s3/item', //需传后台图片上传接口\n\t\t\t\tfilePath: item,\n\t\t\t\tname: \"multipartFile\",\n\t\t\t\tformData: {itemId: item_id},\n\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\tif (uploadFileRes) {\n\t\t\t\t\t\tconsole.log(\"uploadFileRes: \" + uploadFileRes)\n\t\t\t\t\t\tlet res = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\tconsole.log(res.message)\n\t\t\t\t\t\tthis.startUpload=false;\n\t\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\t\tthis.imgArray.push(res.message);\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"Image Uploaded Successfully\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"Upload Fall 1\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\t\t\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail:(e)=>{\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"Upload Fall 2\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifoed-imgChange.vue?vue&type=style&index=0&id=4fff4a7a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifoed-imgChange.vue?vue&type=style&index=0&id=4fff4a7a&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595810473744\n      var cssReload = require(\"C:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}